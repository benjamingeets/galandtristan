---
import Portfolio from '../components/Portfolio.astro';
import WhoAmI from '../components/WhoAmI.astro';
import Main from "../layouts/Main.astro"
import Hero from "../components/Hero.astro"
import GetHomepage from "../queries/homepage"
const home = await GetHomepage()
---

<Main>
	{home.composants.map(composant=>
        {
            switch (composant._modelApiKey) {
                case "hero":
                    return(
                        <Hero data={composant}/>
                    )
                    break;
                case "qui_suis_je":
                    return(
                        <WhoAmI data={composant}/>
                    )
                case "portfolio":
                    return(
                        <Portfolio data={composant}/>
                    )
                default:
                    return (
                        <p>{composant._modelApiKey} introuvable</p>
                    )
                    break;
            }
        }
    )}
</Main>